
# –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è ‚Äì Serialization

### ‚ú®–ù–µ–º–Ω–æ–≥–æ —Ç–µ–æ—Ä–∏–∏

ü§ñ **–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è** - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –≤ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–π—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ —Ñ–∞–π–ª–µ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω–∞ –ø–æ —Å–µ—Ç–∏, –∞ –∑–∞—Ç–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤ –æ–±—ä–µ–∫—Ç. –≠—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –≤–∞–º –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ —Å–µ—Ç—å.

–í **`Java`** –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å **`Serializable`**. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –æ–±—ä–µ–∫—Ç –º–æ–≥ –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω, –≤—ã –¥–æ–ª–∂–Ω—ã –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –í –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ **`Serializable`** –Ω–µ—Ç –º–µ—Ç–æ–¥–æ–≤, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –º–∞—Ä–∫–µ—Ä–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –≥–æ–≤–æ—Ä–∏—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ Java –æ —Ç–æ–º, —á—Ç–æ –æ–±—ä–µ–∫—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω.

–ü—Ä–æ—Ü–µ—Å—Å —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∫–ª–∞—Å—Å–æ–≤ **`ObjectOutputStream`** –∏ **`ObjectInputStream`**.

**–ö–æ—Ä–æ—Ç–µ–Ω—å–∫–∏–π –ø—Ä–∏–º–µ—Ä**:
```java
public class SerializationDemo {
    public static void main(String[] args) {
        // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        MyClass objectToSerialize = new MyClass("Hello, serialization!");

        // –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞
        try (FileOutputStream fileOut = new FileOutputStream("object.ser");
             ObjectOutputStream out = new ObjectOutputStream(fileOut)) {

            out.writeObject(objectToSerialize);
            System.out.println("–û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω –≤ object.ser");
        } catch (IOException e) {
            e.printStackTrace();
        }

        // –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞
        try (FileInputStream fileIn = new FileInputStream("object.ser");
             ObjectInputStream in = new ObjectInputStream(fileIn)) {

            MyClass deserializedObject = (MyClass) in.readObject();
            System.out.println("–û–±—ä–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω: " + deserializedObject.getMessage());
        } catch (IOException | ClassNotFoundException e) {
            e.printStackTrace();
        }
    }
}

class MyClass implements Serializable {
    private String message;

    public MyClass(String message) {
        this.message = message;
    }

    public String getMessage() {
        return message;
    }
}
```
–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç **`MyClass`** —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ —Ñ–∞–π–ª _"object.ser_"

### üöÄ–ü—Ä–∞–∫—Ç–∏–∫–∞

–í –¥–∞–Ω–Ω–æ–π —Ä–∞–±–æ—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è 1 –∑–∞–¥–∞–Ω–∏—è, —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å –≤—ã—à–µ–æ–ø–∏—Å–∞–Ω–Ω–æ–π —Ç–µ–º–æ–π:
1. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫—ç—à–∏—Ä—É—é—â–µ–≥–æ –ø—Ä–æ–∫—Å–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
## –ó–∞–¥–∞–Ω–∏–µ

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ—á–µ–Ω—å –¥–æ–ª–≥–æ, —Ö–æ—á–µ—Ç—Å—è –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–æ–∑–≤—Ä–∞—Ç–∞. –ò–Ω–æ–≥–¥–∞ —Ö–æ—á–µ—Ç—Å—è, —á—Ç–æ–±—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á—ë—Ç–∞ –º–æ–≥–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ JVM.
–ù–∞–ø—Ä–∏–º–µ—Ä, —É –Ω–∞—Å –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å **`Service`** c –º–µ—Ç–æ–¥–æ–º `doHardWork()`. –ü–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤ —ç—Ç–æ–≥–æ –º–µ—Ç–æ–¥–∞ —Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –∫—ç—à–∞.

```java
void run(Service service) {
    double r1 = service.doHardWork("work1", 10); //—Å—á–∏—Ç–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    double r2 = service.doHardWork("work2", 5);  //—Å—á–∏—Ç–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    double r3 = service.doHardWork("work1", 10); //—Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –∫—ç—à–∞
}
```

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–æ–Ω–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞:
1.	–£–∫–∞–∑—ã–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏ –∫–∞–∫: –ø—Ä–æ—Å—á–∏—Ç–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø–∞–º—è—Ç–∏ JVM –∏–ª–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –≤ —Ñ–∞–π–ª–µ –Ω–∞ –¥–∏—Å–∫.
2.	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑—ã–≤–∞—Ç—å, –∫–∞–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –º–µ—Ç–æ–¥–∞ —É—á–∏—Ç—ã–≤–∞—Ç—å –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞, –∞ –∫–∞–∫–∏–µ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è). –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ `doHardWork()` –¥–æ–ª–∂–µ–Ω –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –∞—Ä–≥—É–º–µ–Ω—Ç–∞, —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ `String` –∞—Ä–≥—É–º–µ–Ω—Ç—É.
```java
double r1 = service.doHardWork("work1", 10); //—Å—á–∏—Ç–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
double r2 = service.doHardWork("work1", 5);  //—Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –∫—ç—à–∞, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç —Ä–∞–∑–ª–∏—á–∞–µ—Ç—Å—è
```
3.	–ï—Å–ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø —ç—Ç–æ `List` ‚Äì –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑—ã–≤–∞—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –Ω—ë–º. –¢–æ –µ—Å—Ç—å, –µ—Å–ª–∏ –Ω–∞–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `List` —Å size = 1 –º–ª–Ω, –º—ã –º–æ–∂–µ–º —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤ –∫—ç—à–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å 100 —Ç—ã—Å —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
4.	–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞/–∫–ª—é—á–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ. –ï—Å–ª–∏ –æ–Ω–æ –Ω–µ –∑–∞–¥–∞–Ω–æ - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º—è –º–µ—Ç–æ–¥–∞.
5.	–ï—Å–ª–∏ –º—ã —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –¥–∏—Å–∫, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–∞–¥–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–∂–∏–º–∞—Ç—å –≤ `zip`-–∞—Ä—Ö–∏–≤.  
6.	–õ—é–±—ã–µ –ø–æ–ª–µ–∑–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –≤–∞—à –≤–∫—É—Å.
7.	–í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å _optional_ –∏ –∏–º–µ—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
8.	–í—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —Å –ø–æ–Ω—è—Ç–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º, —á—Ç–æ –¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–æ–∫. (–ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ –¥–∏—Å–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–µ—Ç–æ–¥–∞, –Ω–æ –¥–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º, –Ω–∞–¥–æ –∫–∏–Ω—É—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å –ø–æ–Ω—è—Ç–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–∞–∫ —ç—Ç–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å).
9.	–õ–æ–≥–∏–∫–∞ –ø–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—é –¥–æ–ª–∂–Ω–∞ –Ω–∞–≤–µ—à–∏–≤–∞—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é `DynamicProxy`. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª–∞—Å—Å **`CacheProxy`** —Å –º–µ—Ç–æ–¥–æ–º `cache()`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å–µ—Ä–≤–∏—Å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.  **`CacheProxy`** –¥–æ–ª–∂–µ–Ω —Ç–æ–∂–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä —Ä—É—Ç–æ–≤—É—é –ø–∞–ø–∫—É –≤ –∫–æ—Ç–æ—Ä–æ–π —Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª—ã, –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞ –∏ —Ç–¥.

–î–∏–∑–∞–π–Ω –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, –∞—Ç—Ä–∏–±—É—Ç–æ–≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, –∫–ª–∞—Å—Å–æ–≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ –≤–∞—à –≤–∫—É—Å. –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Ç–∞–µ–º, –∫–ª–∞—Å—Å—ã –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω—ã –ª–æ–≥–∏–∫–æ–π, –∫–ª–∞—Å—Å—ã –¥–æ–ª–∂–Ω—ã –ª–µ–∂–∞—Ç—å –≤ –Ω—É–∂–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö.

–ü—Ä–∏–º–µ—Ä –≤–∫–ª—é—á–µ–Ω–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤, –º–µ—Ç–æ–¥–æ–≤, –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π –∏ –∞—Ç—Ä–∏–±—É—Ç–æ–≤):

```java
CacheProxy cacheProxy = new CacheProxy(...);
Service service = cacheProxy.cache(new ServiceImpl());
Loader loader = cacheProxy.cache(new LoaderImpl());

interface Service {
    @Cache(cacheType = FILE, fileNamePrefix = "data", zip = true, identityBy = {String.class, double.class})
    List<String> run(String item, double value, Date date);

    @Cache(cacheType = IN_MEMORY, listList = 100_000)
    List<String> work(String item);
}
```

## –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –±—ã–ª —Å–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å [**`Service`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/service/Service.java), –∞ —Ç–∞–∫–∂–µ –∫–ª–∞—Å—Å, –∏–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä—É—é—â–∏–π –¥–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å - [**`ServiceImpl`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/service/ServiceImpl.java).

–ö—Ä–∞—Ç–∫–æ –æ –º–µ—Ç–æ–¥–∞—Ö [**`Service`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/service/Service.java):
- **`double powerNumber(double number, double degree)`** - –º–µ—Ç–æ–¥ –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è —á–∏—Å–ª–∞ –≤ —Å—Ç–µ–ø–µ–Ω—å, –≥–¥–µ `double number` - —Å–∞–º–æ —á–∏—Å–ª–æ, `double degree` - —Å—Ç–µ–ø–µ–Ω—å –¥–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞;
- **`int factorial(int number);`** - –º–µ—Ç–æ–¥ —Ä–∞—Å—á—ë—Ç–∞ —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞ —á–∏—Å–ª–∞, –≥–¥–µ `int number` - —á–∏—Å–ª–æ, —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å;
- **`List<Integer> dividedWithoutRemainder(int number);`** - –º–µ—Ç–æ–¥, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –¥–µ–ª–∏—Ç–µ–ª–µ–π —á–∏—Å–ª–∞ `int number`, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –¥–µ–ª–∏—Ç—Å—è –±–µ–∑ –æ—Å—Ç–∞—Ç–∫–∞;
- **`int squaring(String word, int number);`** - –º–µ—Ç–æ–¥ –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è —á–∏—Å–ª–∞ –≤ –∫–≤–∞–¥—Ä–∞—Ç, –≥–¥–µ `int number` - –≤–æ–∑–≤–æ–¥–∏–º–æ–µ –≤ –∫–≤–∞–¥—Ä–∞—Ç —á–∏—Å–ª–æ, `String number` - –ø–∞—Ä–∞–º–µ—Ç—Ä, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.

### üìù –ü–∞—Ä–∞ —Å–ª–æ–≤ –æ–± –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ [@Cache](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/cacheData/Cache.java)

–î–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–≥–æ –∫—ç—à–∏—Ä—É—é—â–µ–≥–æ –ø—Ä–æ–∫—Å–∏ –±—ã–ª–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é. –í –Ω–∞—Å—Ç–æ—è—â–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ –¥–∞–Ω–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
```java
@Retention(RetentionPolicy.RUNTIME)
@Target(ElementType.METHOD)
public @interface Cache {
    CacheType cacheType() default CacheType.IN_MEMORY;

    String fileNamePrefix() default "";

    Class[] identityBy() default Class.class;

    boolean zip() default false;

    int listSize() default 0;
}
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏:
1. [**`CacheType`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/cacheData/CacheType.java) - —Ç–∏–ø –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (–ª–∏–±–æ –≤ –ø–∞–º—è—Ç—å, –ª–∏–±–æ –≤ —Ñ–∞–π–ª). –í –¥–µ—Ñ–æ–ª—Ç–Ω–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ –∑–∞–ø–∏—Å—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç—å.
```java
public enum CacheType {
    FILE,
    IN_MEMORY
}
```
2. **`String fileNamePrefix()`** - –ø—Ä–µ—Ñ–∏–∫—Å –∫ –Ω–∞–∑–≤–∞–Ω–∏—é —Ñ–∞–π–ª–∞. –ü–æ –¥–µ—Ñ–æ–ª—Ç—É –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç.
3. **`Class[] identityBy()`** - –º–∞—Å—Å–∏–≤ –∫–ª–∞—Å—Å–æ–≤, –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–∞ –∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ, –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ. –ü–æ –¥–µ—Ñ–æ–ª—Ç—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω `Class.class`.
4. **`boolean zip()`** - —Ñ–ª–∞–≥, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ _zip-–∞—Ä—Ö–∏–≤_. –ü–æ –¥–µ—Ñ–æ–ª—Ç—É –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `false`.
5. **`int listSize()`** - –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –º–µ—Ç–æ–¥ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞–∫–∏—Ö-–ª–∏–±–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–Ω–∞—á–µ–Ω–∏–π –¥–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞, —Å–æ—Ö—Ä–∞–Ω—è–µ–º—ã—Ö –≤ –∫—ç—à.

### üõ∞Ô∏è –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –ü—Ä–æ–∫—Å–∏

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–∫—Å–∏ –±—ã–ª —Å–æ–∑–¥–∞–Ω –∫–ª–∞—Å—Å [**`CacheProxy`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/cacheProxy/CacheProxy.java). –î–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å –æ–±–ª–∞–¥–∞–µ—Ç –≤—Å–µ–≥–æ –æ–¥–Ω–∏–º –º–µ—Ç–æ–¥–æ–º `cache`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å, –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ, –≥–¥–µ –±—É–¥—É—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Ñ–∞–π–ª—ã –∫—ç—à–∞, –∏ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∫–ª–∞—Å—Å, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –Ω—É–∂–Ω–æ –ø—Ä–∏–≤–µ—Å—Ç–∏ –Ω–∞—à –ø—Ä–æ–∫—Å–∏.
```java
public class CacheProxy {

    public static <T> T cache(T object, String cacheFolder, Class<T> clazz) {
        var invocationHandler = new CacheHandler(object, cacheFolder);

        return clazz.cast(Proxy.newProxyInstance(
                object.getClass().getClassLoader(),
                new Class[]{clazz},
                invocationHandler));
    }
}
```

–í –º–µ—Ç–æ–¥–µ `cache` –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–±–ª—é–¥–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ –∫–ª–∞—Å—Å–∞ [**`CacheHandler`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/cacheProxy/CacheHandler.java) - –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –∫–ª–∞—Å—Å, –∫–æ—Ç–æ—Ä—ã–π –∏ –±—É–¥–µ—Ç —è–≤–ª—è—Ç—å—Å—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–æ–∫—Å–∏.

–ö–ª–∞—Å—Å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä 2 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
- `T object` - –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –±—É–¥–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å;
- `String cacheFolder` - –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ, –≤ –∫–æ—Ç–æ—Ä—É—é –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è —Ñ–∞–π–ª—ã –∫—ç—à–∞.

–¢–∞–∫–∂–µ —É [**`CacheHandler`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/cacheProxy/CacheHandler.java) –µ—Å—Ç—å —Ç–∞–∫–∏–µ –ø–æ–ª—è, –∫–∞–∫:
- `private final Map<Method, CacheSettings> cacheSettingsMap = new HashMap<>()` - —Ö—ç—à–º–∞–ø–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–µ—Ç–æ–¥–∞;
- `private final Map<Method, Map<List<Object>, Object>> methodCache = new HashMap<>()` - —Ö—ç—à–º–∞–ø–∞, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –∫—ç—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤.

[**`CacheSettings`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/cacheData/CacheSettings.java) - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å, –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤—ã–≥–ª—è–¥–∏—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```java
public CacheSettings(CacheType cacheType, String fileNamePrefix, Class[] identityBy, boolean zip, int listSize) {
        this.cacheType = cacheType;
        this.fileNamePrefix = fileNamePrefix;
        this.classes = identityBy;
        this.zip = zip;
        this.listSize = listSize;
    }
```
–î–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å –Ω–µ–æ–±—Ö–æ–¥–∏–º, —á—Ç–æ–±—ã —Å–Ω–∏–∑–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –º–µ—Ç–æ–¥–∞. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫—ç—à–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –º–µ—Ç–æ–¥–µ `public Object invoke`, —á—Ç–æ–±—ã –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è –Ω–µ –∫ –º–µ—Ç–æ–¥—É, –∞ –∫ –º–∞–ø–µ **`cacheSettingsMap`**.

–ü–æ–º–∏–º–æ `invoke` –∫–ª–∞—Å—Å [**`CacheHandler`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/cacheProxy/CacheHandler.java) —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:
- **`private Object invokeMethod(Method method, Object[] args)`** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–µ—Ç–æ–¥ –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫ –µ–≥–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Ä–∞–Ω–µ–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∫—ç—à–∞.
- **`private void saveToFile(Method method, List<Object> key, Object result, CacheSettings cacheSettings)`** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–µ—Ç–æ–¥, –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ —Ñ–∞–π–ª –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞.
- **`private void saveToMemory(Method method, List<Object> key, Object result, CacheSettings cacheSettings)`** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–µ—Ç–æ–¥, –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ –ø–∞–º—è—Ç—å –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞.
- **`private Object readFromFile(Method method, List<Object> key, CacheSettings cacheSettings)`** - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–µ—Ç–æ–¥, –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∞ –¥–ª—è —á—Ç–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∏–∑ —Ñ–∞–π–ª–∞.
- **`private List<Object> getKey(Method method, Object[] args)`** - –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏—Ö –∫–ª–∞—Å—Å–æ–≤ –º–µ—Ç–æ–¥–∞ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã —Å –Ω–∏–º–∏.

### üóùÔ∏è –ü–∞—Ä–∞ —Å–ª–æ–≤ –æ–± –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏—Ö –∫–ª–∞—Å—Å–∞—Ö

–í –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏ [**`@Cache`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/cacheData/Cache.java) –µ—Å—Ç—å —Ç–∞–∫–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä, –∫–∞–∫ `identityBy`. –û–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª–∞—Å—Å–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—ä–µ–∫—Ç–∞ –∫—ç—à–∞. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –º–µ—Ç–æ–¥–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–ª–∞—Å—Å–∞–º. –¢.–µ. –ø–∞—Ä–∞–º–µ—Ç—Ä `identityBy` –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–º, –∫–∞–∫–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –º–µ—Ç–æ–¥–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—á—Ç–µ–Ω—ã –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∫—ç—à–∞, –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –º–µ—Ç–æ–¥–æ–≤.

–ù–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ —Å–∞–º–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—É—Ç—ë–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ö—ç—à-–∫–æ–¥–∞ –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –≤ –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–æ–≤ –∏ –∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

–¢–∞–∫, –µ—Å–ª–∏ –≤–∑—è—Ç—å –º–µ—Ç–æ–¥ 
```java
@Cache(cacheType = FILE, identityBy = {String.class})
    int squaring(String word, int number);
```
 –∏–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ [**`Service`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/service/Service.java), –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –µ–≥–æ –≤ –∫–ª–∞—Å—Å–µ [**`Main`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/Main.java):

 ```java
 int square1 = cachedService.squaring("–û–≤–∞–ª", 8);
 System.out.println("–†–µ–∑—É–ª—å—Ç–∞—Ç 4: " + square1);

 int squareCached1 = cachedService.squaring("–û–≤–∞–ª", 8);
 System.out.println("–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç 4: " + squareCached1);


 int square2 = cachedService.squaring("–ö—Ä—É–∂–æ—á–µ–∫", 8);
 System.out.println("–†–µ–∑—É–ª—å—Ç–∞—Ç 5: " + square2);

 int squareCached2 = cachedService.squaring("–ö—Ä—É–∂–æ—á–µ–∫", 8);
 System.out.println("–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç 5: " + squareCached2);
 ```
–¢–æ –º—ã –ø–æ–ª—É—á–∏–º —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Ä–∞–∑–Ω—ã–µ —Ö—ç—à-–∫–æ–¥—ã –≤ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤:
![squaring](https://github.com/MironovNikita/sber-homework8/blob/main/res/squaring.png)

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —á—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ –∫–ª–∞—Å—Å—É **`String`**, –∫–æ—Ç–æ—Ä—ã–π –∏ —É–∫–∞–∑–∞–Ω –≤ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏, —Ç–∞–∫ –∫–∞–∫ –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä - `int` –Ω–µ –∏–∑–º–µ–Ω—è–ª—Å—è.

### 
üî¨–ü—Ä–æ–≤–µ–¥—ë–º –Ω–µ–±–æ–ª—å—à–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–ª–∞—Å—Å–µ [**`Main`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/Main.java). –£–∫–∞–∑—ã–≤–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—à–∏—Ö —Ñ–∞–π–ª–æ–≤ —Å –∫—ç—à–µ–º, –∑–∞—Ç–µ–º —Å–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç **`Service`** –∏, –Ω–∞–∫–æ–Ω–µ—Ü, —Ä–µ–∞–ª–∏–∑—É–µ–º –Ω–∞—à –∫—ç—à–∏—Ä—É—é—â–∏–π –ø—Ä–æ–∫—Å–∏ —Å –ø–æ–º–æ—â—å—é **`CacheProxy.cache`**.

```java
String cacheFolder = "src/main/java/org/example/proxyData";

Service service = new ServiceImpl();
Service cachedService = CacheProxy.cache(service, cacheFolder, Service.class);
```

–ó–∞—Ç–µ–º –æ—Å—É—â–µ—Å—Ç–≤–∏–º –≤—ã–∑–æ–≤ —Ä—è–¥–∞ –º–µ—Ç–æ–¥–æ–≤, –æ–±–æ–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ [**`Service`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/main/java/org/example/service/Service.java). –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â–µ–µ:

![mainResults](https://github.com/MironovNikita/sber-homework8/blob/main/res/mainResults.png)

–¢–∞–∫–∂–µ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –Ω–∞–º–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ [**`proxyData`**](https://github.com/MironovNikita/sber-homework8/tree/main/src/main/java/org/example/proxyData) –ø–æ–ª—è–≤–∏–ª–∏—Å—å —Ñ–∞–π–ª—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–∑–æ–≤–æ–≤ –º–µ—Ç–æ–¥–æ–≤:

![mainFolder](https://github.com/MironovNikita/sber-homework8/blob/main/res/mainFolder.png)

–¶–∏—Ñ—Ä—ã, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤ - —Ö—ç—à –∫–æ–¥, –≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–π –Ω–∞ –æ—Å–Ω–æ–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –≤ –º–µ—Ç–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –∫–ª–∞—Å—Å–µ **`Main`** –ø–æ–ª—É—á–∏–º —Å–ª–µ–¥—É—é—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

![mainResultsRepeat](https://github.com/MironovNikita/sber-homework8/blob/main/res/mainResultsRepeat.png)

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º–æ–∂–µ–º —Å–¥–µ–ª–∞—Ç—å –≤—ã–≤–æ–¥, —á—Ç–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ñ–∞–π–ª—ã –∏ —Å—á–∏—Ç—ã–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ –Ω–∏—Ö –ø—Ä–æ—Ö–æ–¥–∏—Ç —É—Å–ø–µ—à–Ω–æ!
 
### –ù–∏ Main'–æ–º –µ–¥–∏–Ω—ã–º üåê

–¢–∞–∫–∂–µ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—ç—à–∏—Ä—É—é—â–µ–≥–æ –ø—Ä–æ–∫—Å–∏ –±—ã–ª–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã—Ö —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏—Ö —Ä–∞–±–æ—Ç—É –º–µ—Ç–æ–¥–æ–≤ –∏ —Å—á–∏—Ç—ã–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –∫—ç—à. –í—Å–µ —Ç–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–ª–∞—Å—Å–µ [**`CacheProxyTest`**](https://github.com/MironovNikita/sber-homework8/blob/main/src/test/java/org/example/cacheProxy/CacheProxyTest.java). –í—Å–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é [**`testProxyData`**](https://github.com/MironovNikita/sber-homework8/tree/main/src/test/java/testProxyData).

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤:

![testResults](https://github.com/MironovNikita/sber-homework10/blob/main/res/testResults.png)

–¢–∞–∫–∂–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–∫—Å–∏ —Å –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–º–∏ –µ–≥–æ –º–µ—Ç–æ–¥–∞–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

![testConsole](https://github.com/MironovNikita/sber-homework8/blob/main/res/testConsole.png)

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞–±–æ—Ç—ã —Ç–µ—Å—Ç–æ–≤ –≤ –≤—ã—à–µ—É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Ç–∞–∫–∂–µ –ø–æ—è–≤–∏–ª–∏—Å—å —Ñ–∞–π–ª—ã, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –∫—ç—à –¥–ª—è –≤—ã–∑–≤–∞–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤:

![testFolder](https://github.com/MironovNikita/sber-homework8/blob/main/res/testFolder.png)

–ö–∞–∫ –º–æ–∂–Ω–æ –≤–∏–¥–µ—Ç—å –∏–∑ –≤–Ω–æ–≤—å —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Ö—ç—à-—Å—É–º–º–∞, —É–∫–∞–∑–∞–Ω–Ω–∞—è –≤ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏ —Å–∞–º–∏—Ö —Ñ–∞–π–ª–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `identityBy` –º—ã –º–æ–∂–µ–º –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞—à–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

### üìå –í–∞–∂–Ω–æ üìå

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏ –∑–∞–ø–∏—Å–∏ –º–µ—Ç–æ–¥–æ–≤ –≤ –∫—ç—à, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–¥–∞–ª–∏—Ç—å –≤—ã—à–µ—É–ø–æ–º—è–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã –∏–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –ª–∏–±–æ –∂–µ –ø–æ–º–µ–Ω—è—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–µ—Ç–æ–¥–æ–≤. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–∞–ø–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤, –Ω–æ –¥–∞–Ω–Ω—ã–π —à–∞–≥ –º–æ–∂–µ—Ç –≤–Ω–µ—Å—Ç–∏ –ø—É—Ç–∞–Ω–∏—Ü—É, –≥–¥–µ –ø–æ –∏—Ç–æ–≥—É —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã –∫—ç—à–∞, —á—Ç–æ –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

### üí° –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–¢–µ—Å—Ç—ã –Ω–∞–ø–∏—Å–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ JUnit (*junit-jupiter*). –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ [**`pom.xml`**](https://github.com/MironovNikita/sber-homework8/blob/main/pom.xml) 

–í–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–ø–∏—Å–∞–Ω–∞ –≤ –±–ª–æ–∫–µ *properties /properties*:

```java
<junit.version>5.10.1</junit.version>
```

–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```java
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  2.292 s
[INFO] Finished at: 2024-02-01T01:24:20+03:00
[INFO] ------------------------------------------------------------------------
```






